<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Ealotroam0v</title>
    <link rel="stylesheet" href="./customLayout/css/bootstrap.min.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link
        href="https://fonts.googleapis.com/css2?family=Figtree:wght@300;400,700&display=swap"
        rel="stylesheet"
    />

    <!-- Phone Input -->
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"
        integrity="sha512-DNeDhsl+FWnx5B1EQzsayHMyP6Xl/Mg+vcnFPXGNjUZrW28hQaa1+A4qL9M+AiOMmkAhKAWYHh1a+t6qxthzUw=="
        crossorigin="anonymous"
    ></script>
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.min.css"
        integrity="sha512-yye/u0ehQsrVrfSd6biT17t39Rg9kNc+vENcCXZuMz2a+LWFGvXUnYuWUW6pbfYj1jcBb/C39UZw2ciQvwDDvg=="
        crossorigin="anonymous"
    />
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js"
        integrity="sha512-BNZ1x39RMH+UYylOW419beaGO0wqdSkO7pi1rYDYco9OL3uvXaC/GTqA5O4CVK2j4K9ZkoDNSSHVkEQKkgwdiw=="
        crossorigin="anonymous"
    ></script>

    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="./css/main.css"/>
    <link rel="stylesheet" type="text/css" href="./css/dropdown.css"/>

    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAA6hPSXE3axuXZCH0MHQxE7Ja0enZw_1Y&callback=initService&libraries=places&v=weekly"
        defer></script>
    <style>
        input:-webkit-autofill {
            -webkit-box-shadow: 0 0 0 1000px white inset !important;
        }

        tr {
            height: 100px;
        }

        td {
            padding-right: 45px;
        }
        .col-md-12{
padding: 0px        }
    </style>
</head>
<body>
<div class="progress-bar">
    <span></span>
</div>
<main>
    <section class="main-content">
        <article>
            <div>
                <div>
                    <p class="main-text">
                        1 To be able to provide you a quote we will need to gather some information about you and who you
                        would like to receive the funds (your beneficiary).
                        The entire process takes about 5 minutes and you can finalize everything online without ever
                        needing to leave the comfort of your home.
                        If you have any questions during the process, please give us a call at (201) 498-8845.
                    </p>
                    <div class="btn-wrapper">
                        <button id="continue-btn" class="btn">Continue</button>
                        <span class="press-enter">press <strong>Enter ↵</strong> </span>
                    </div>
                </div>
            </div>
        </article>
    </section>
    <form action="" autocomplete="off" method="post" class="form-content">
        <article class="form-fields ">
            <div>
                <div>
                    <div class="form-header">
                        <div class="number-wrapper">
                            <span>1</span>
                            <svg height="10" width="11" class="shouldFlipIfRtl">
                                <path
                                    d="M7.586 5L4.293 1.707 5.707.293 10.414 5 5.707 9.707 4.293 8.293z"
                                ></path>
                                <path d="M8 4v2H0V4z"></path>
                            </svg>
                        </div>
                        <p>
                            To start, please let us know how we can get in touch with you
                            so you can receive your quote.*
                        </p>
                    </div>
                    <div>
                        <div class="form-field">
                            <label for="first_name">First name *</label>
                            <input
                                type="text"
                                class="input"
                                name="first_name"
                                placeholder="Jane"
                                required
                                id="first_name"
                            />
                        </div>
                        <div class="form-field">
                            <label for="last_name">Last name *</label>
                            <input
                                type="text"
                                class="input"
                                name="last_name"
                                placeholder="Smith"
                                required
                                id="last_name"
                            />
                        </div>
                        <div class="form-field">
                            <label for="phone">Phone number</label>
                            <input
                                name="phone"
                                type="text"
                                class="form-control input mb-2 inptFielsd"
                                id="phone"
                                placeholder="(201) 555-0123"
                            />
                        </div>
                        <div class="form-field">
                            <label for="email">Email *</label>
                            <input
                                type="email"
                                name="email"
                                class="input"
                                placeholder="name@example.com"
                                required
                                id="email"
                            />
                        </div>
                        <div class="btn-wrapper">
                            <button
                                type="button"
                                class="btn ok-btn"
                                data-input_id="user_data"
                            >
                                OK
                                <svg height="13" width="16">
                                    <path
                                        d="M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"
                                    ></path>
                                </svg>
                            </button>
                            <span class="press-enter">press <strong>Enter ↵</strong> </span>
                        </div>
                    </div>
                </div>
            </div>
        </article>
        <article class="form-fields">
            <div class="address-fields">
                <div>
                    <div class="form-header">
                        <div class="number-wrapper">
                            <span>2</span>
                            <svg height="10" width="11" class="shouldFlipIfRtl">
                                <path
                                    d="M7.586 5L4.293 1.707 5.707.293 10.414 5 5.707 9.707 4.293 8.293z"
                                ></path>
                                <path d="M8 4v2H0V4z"></path>
                            </svg>
                        </div>
                        <p>Next we need a few more pieces of information to allow us to accurately calculate your
                            quote.</p>
                    </div>
                    <div>

                        <div class="address-inputs first-row">
                            <div>
                                <div class="select">
                                    <div class="select-btn-wrapper">
                                        <input
                                            type="text"
                                            class="input"
                                            id="locationSearch"
                                            name="address"
                                            autocomplete="one-time-code"
                                            placeholder="Street Address"
                                        />
                                        <div class="select-locationSearch selectBtn"></div>
                                    </div>
                                    <div class="selectDropdown" id="locationSearchCollection">

                                    </div>
                                </div>
                            </div>
                            <div>

                                <div class="form-field">
                                    <input
                                        type="text"
                                        maxlength="5"
                                        class="input"
                                        id="apt"
                                        autocomplete="one-time-code"
                                        name="apt"
                                        placeholder="Apt"
                                    />
                                </div>
                            </div>                      </div>
                        <div class="address-inputs">
                        <div>

                            <div class="form-field">
                                <input
                                    type="text"
                                    class="input"
                                    id="city"
                                    min="0"
                                    name="city"
                                    autocomplete="one-time-code"

                                    placeholder="City"
                                />
                            </div>
                        </div>
                        <div>

                            <div class="select">
                                <div class="select-btn-wrapper">
                                    <input
                                        type="text"
                                        class="input"
                                        name="state"
                                        autocomplete="one-time-code"

                                        id="state_option_input"
                                        placeholder="State"
                                    />
                                    <div class="select-state selectBtn"></div>
                                </div>
                                <div class="selectDropdown">
                                        <div class="state-option option" data-value="AK">
                                            <span>AK:</span>
                                         AKAK
                                        </div>

                                </div>
                            </div>

                        </div>
                        <div>

                            <div class="form-field">
                                <input
                                    type="text"
                                    maxlength="5"
                                    class="input"
                                    id="zip"
                                    autocomplete="one-time-code"
                                    name="zip"
                                    placeholder="Zip"
                                />
                            </div>
                        </div>
                        </div>
                        <div>

                        <div>

                            <div class="select">
                                <div class="select-btn-wrapper">
                                    <input
                                        type="text"
                                        class="input pointer"
                                        name="gender"
                                        autocomplete="off"
                                        readonly
                                        id="gender_option_input"
                                        placeholder="Gender"
                                                                        />
                                    <div class="select-gender selectBtn"></div>
                                </div>
                                <div class="selectDropdown">
                                    <div class="gender-option option" data-value="Female">
                                        Female
                                    </div>
                                    <div class="gender-option option" data-value="Male">
                                        Male
                                    </div>


                                </div>
                            </div>
                        </div>
                        </div>
                        <div>

                        <div>
                            <div class="form-field date-container">
                                <input
                                    type="date"
                                    class="input"
                                    id="dob"
                                    name="dob"
                                    placeholder="mm/dd/yyyy"
                                    />
                                    <input type="text" class="input pointer" id="dob-trigger" placeholder="mm/dd/yyyy" readonly autocomplete="off">
                                <svg id="dob-calendar" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-1.5 block"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                            </div>
                        </div>
                        </div>
                        <div>
                            <div>
                            <div class="btn-wrapper">
                                <button
                                    type="button"
                                    class="btn ok-btn"
                                    data-input_id="state_option_input"
                                >
                                    OK
                                    <svg height="13" width="16">
                                        <path
                                            d="M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"
                                        ></path>
                                    </svg>
                                </button>

                            </div>

                        </div>
                        </div>
                    </div>
                    </div>


                </div>
            </div>

        </article>
        <article class="form-fields">
            <div>
                <div>
                    <div class="form-header">
                        <div class="number-wrapper">
                            <span>3</span>
                            <svg height="10" width="11" class="shouldFlipIfRtl">
                                <path
                                    d="M7.586 5L4.293 1.707 5.707.293 10.414 5 5.707 9.707 4.293 8.293z"
                                ></path>
                                <path d="M8 4v2H0V4z"></path>
                            </svg>
                        </div>
                        <p>
                            What amount of money would you like to have for your end-of-life preparations? Insurers
                            require a minimum of $5000 coverage.
                        </p>
                    </div>
                    <div>
                        <div class="form-field money-field">
                            <span>$</span>
                            <input
                                type="number"
                                class="input"
                                id="money_amount"
                                name="money_amount"
                                min="5000"
                                value="5000"
                                placeholder="Type your answer here..."
                            />
                                                    </div>
                        <div class="btn-wrapper">
                            <button
                                type="submit"
                                class="btn ok-btn"
                                data-input_id="money_amount"
                            >
                                OK
                                <svg height="13" width="16">
                                    <path
                                        d="M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"
                                    ></path>
                                </svg>
                            </button>
                            <span class="press-enter">press <strong>Enter ↵</strong> </span>
                        </div>
                    </div>
                </div>
            </div>
        </article>
        @csrf
    </form>
</main>
<div class="controllers">
    <button type="button" class="scroll-btn disabled">
        <svg height="9" width="14">
            <path
                d="M12.293.293l1.414 1.414L7 8.414.293 1.707 1.707.293 7 5.586z"
            ></path>
        </svg>
    </button>
    <button type="button" class="scroll-btn">
        <svg height="9" width="14">
            <path
                d="M12.293.293l1.414 1.414L7 8.414.293 1.707 1.707.293 7 5.586z"
            ></path>
        </svg>
    </button>
</div>
<script src="./customLayout/js/jquery-3.5.1.js"></script>

<script src="./js/main.js"></script>
<script src="./js/dropdown.js"></script>

<script>

    function initService() {
        const displaySuggestions = function (predictions, status) {

            $('#locationSearchCollection').html('')
            if (status != google.maps.places.PlacesServiceStatus.OK) {
                return;
            }
            var res = '';
            var flag = true;
            var currentAddress = $('#locationSearch').val();
            predictions.forEach((prediction) => {
                var description = prediction.description;
                if (description == currentAddress)
                    flag = false
                // if (description.includes("NY, USA") || description.includes("NJ, USA")) {
                res += `<div class="locationSearch-option option" data-value="${prediction.description}">${prediction.description}</div>`
                // }
            });
            if (flag) {

                $('#locationSearchCollection').append(res);

                locationSearchOptions = document.querySelectorAll(".locationSearch-option");

                on("click", ".locationSearch-option", (item) => {
                    onOptionClick(item, locationSearchInput);
                });
            }

        };

        const findCoords = function (placeResult, status) {
            if (status == window.google.maps.GeocoderStatus.OK) {
                console.log( placeResult[0])

                street_number = placeResult[0].address_components.find((ele) => {
                    return ele.types.find((type) => type == "street_number");
                });

                route = placeResult[0].address_components.find((ele) => {
                    return ele.types.find((type) => type == "route");
                });

                postalCode = placeResult[0].address_components.find((ele) => {
                    return ele.types.find((type) => type == "postal_code");
                });
                state = placeResult[0].address_components.find((ele) => {
                    return ele.types.find(
                        (type) => type == "administrative_area_level_1"
                    );
                });
                city = placeResult[0].address_components.find((ele) => {
                    return ele.types.find(
                        (type) =>
                            type == "locality" ||
                            type == "administrative_area_level_3" ||
                            type == "neighborhood" ||
                            type == "sublocality" ||
                            type == "sublocality_level_1"
                    );
                });
                deceased_location_state = state.short_name;
                if (city) {
                    deceased_location_city = city.long_name;
                } else {
                    deceased_location_city = "";
                }
                if (postalCode) {
                    deceased_location_zip = postalCode.long_name;
                } else {
                    deceased_location_zip = "";
                }
                console.log(route,street_number)
              if(route )
                  $('#locationSearch').val(street_number.long_name +" " +route.long_name);
                $('#city').val(deceased_location_city);
                $('#state_option_input').val(deceased_location_state);
                $('#zip').val(deceased_location_zip);


            }
        };


        const service = new google.maps.places.AutocompleteService();
        this.place = new window.google.maps.Geocoder();

        $('#locationSearch').on('input', function () {
            service.getPlacePredictions(
                {
                    input: $('#locationSearch').val(),
                    types: ["address"],
                    componentRestrictions: {country: "us"},
                },
                displaySuggestions
            );
        });

        $('#locationSearch').on('input', function () {


            place.geocode(
                {
                    // placeId: result.place_id,
                    address: $(this).val(),
                },
                findCoords
            );

        });


    }

</script>
</body>


</html>